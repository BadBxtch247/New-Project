from getch import getch as get
import sys, os, random, time
from replit import audio

def clear():
	os.system('clear')

class Map:
	def __init__(self):
		self.enemies = {
			"glitch": {
				"power": 10,
				"max": 10,
				"health": 100,
			},
		}
		self.score = 0
		#map size: 10x23
		#first area
		self.map1 = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','■',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ','░','░','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ','░','░','░','░','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map1G = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','■',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ','░','░','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ','░','░','░','░','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map2 = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','■','|'],
['|','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ','≡',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ','░','░',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░','░',' ',' ',' ',' ',' ',' ','≡','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░','░','░',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ','░','░','░','░','≡',' ',' ',' ',' ','≡',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map2G = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','■','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░','░',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░','░','░',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░','░','░',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map3 = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','|'],
['|',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░','░','░',' ','░',' ','░',' ','░','≡','░','░','░','░','░','░','░','░','░',' ','|'],
['|',' ','░',' ','░',' ','░',' ','░',' ','░','■',' ',' ','░','░','░','░','░','░','░',' ','|'],
['|',' ','░',' ','░',' ',' ',' ','░',' ','░','░','░',' ','≡',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░',' ','░','░','░','░','░',' ',' ','░','░',' ','░','░','░','░','░','░','░',' ','|'],
['|',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ','░','░',' ','≡',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░','░','░','░','░','░','░','░','░','░','░',' ','░','░','░','░','░','░','░',' ','|'],
['|','_','░','_','_','_','_','_','_','_','_','░','░','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map3G = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','░','|'],
['|',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░','░','░',' ','░',' ','░',' ','░',' ','░','░','░','░','░','░','░','░','░',' ','|'],
['|',' ','░',' ','░',' ','░',' ','░',' ','░','■',' ',' ','░','░','░','░','░','░','░',' ','|'],
['|',' ','░',' ','░',' ',' ',' ','░',' ','░','░','░',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░',' ','░','░','░','░','░',' ',' ','░','░',' ','░','░','░','░','░','░','░',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░','░',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░','░','░','░','░','░','░','░','░','░','░',' ','░','░','░','░','░','░','░',' ','|'],
['|','_','░','_','_','_','_','_','_','_','_','░','░','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map4 = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|','≡',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ','≡',' ','░',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡','■','|'],
['|',' ',' ','≡',' ',' ','≡',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ','≡',' ',' ',' ','|'],
['|',' ',' ',' ',' ','░',' ',' ','≡',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','≡','_','_','_','≡','_','_','_',' ','_','_','_','_','_','|'],
		]
		self.map4G = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ','░',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','■','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ','░',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'],
		]
		self.map5 = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ','≡',' ',' ','≡',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ','░','≡',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ','≡',' ','≡',' ','≡',' ','≡',' ',' ',' ',' ','░',' ','≡',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ','≡',' ','≡',' ','≡',' ',' ',' ',' ',' ','░',' ',' ',' ','≡',' ',' ',' ',' ','|'],
['|',' ','≡',' ',' ',' ',' ',' ','░',' ','░','░','░','░',' ',' ','≡',' ',' ','░',' ',' ','|'],
['|','■','≡',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','≡','≡',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','░','≡','_','_','_','_','_','_','|'],
		]
		self.map5G = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ','░',' ','░','░','░','░',' ',' ',' ',' ',' ','░',' ',' ','|'],
['|','■',' ',' ',' ',' ',' ',' ',' ','░',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','░','_','_','_','_','_','_','_','|'],
		]
		self.map6 = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','≡','|'],
['|',' ','≡',' ','≡',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ','≡','≡',' ','≡',' ',' ','≡','|'],
['|',' ','≡',' ','≡',' ',' ','≡',' ','≡','≡',' ','≡',' ','≡',' ',' ','≡',' ',' ','≡','≡','|'],
['|',' ','≡',' ','≡','≡',' ','≡',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ','≡',' ','|'],
['|',' ','≡',' ','≡',' ',' ',' ','≡',' ','≡',' ',' ',' ',' ','≡','≡',' ',' ','≡',' ','≡','|'],
['|',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ','≡',' ',' ','≡','≡',' ','≡',' ',' ',' ','≡','|'],
['|',' ','≡','≡','≡','≡',' ','≡',' ','≡',' ',' ','≡','≡','≡','≡',' ',' ','≡',' ','≡','≡','|'],
['|',' ','≡',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ',' ','≡',' ',' ',' ',' ',' ','≡','|'],
['|','_','≡','≡','≡','≡','≡','≡','_','_','_','_','_','_','_','≡','■','≡','_','_','≡','≡','|'],
		]
		self.map6G = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','■','_','_','_','_','_','|'],
		]
		# ░ ≡ ■
		#size: 10x23
		#blank map
		self.basic_map = [
[' ','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_',' '],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'],
['|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'],
		]
		self.player = "█"
	def show_map1(self,x,y):
		pass
	def start_map1(self,whatMap):
		do = "live"
		num_ = whatMap
		x = 1
		y = 9
		first = True
		while True:	
			yeeted = False
			#list for the map that will be changed
			#10x23
			current = []
			if whatMap == '1': whatMap, glitchMap = self.map1, self.map1G
			if whatMap == '2': whatMap, glitchMap = self.map2, self.map2G
			if whatMap == '3': whatMap, glitchMap = self.map3, self.map3G
			if whatMap == '4': whatMap, glitchMap = self.map4, self.map4G
			if whatMap == '5': whatMap, glitchMap = self.map5, self.map5G
			if whatMap == '6': whatMap, glitchMap = self.map6, self.map6G
			for i in whatMap:
				current.append(i.copy())
			if x <= 1: x = 1
			if x >= len(current[1])-2: x = len(current[1])-2
			if y <= 1: y = 1
			if y >= len(current)-1: y = len(current)-1
			number = 0
			try:toUp = current[y-1][x]
			except: pass
			try:toDown = current[y+1][x]
			except: pass
			try:toLeft = current[y][x-1]
			except: pass
			try:toRight = current[y][x+1]
			except: pass
			# ░ ≡ ■
			#FOR DEBUGGING:
			#try: print(f'up: {toUp}\nleft: {toLeft}\ndown: {toDown}\nright: {toRight}')
			#except: print('')
			try:
				if current[y][x] == '■':
					do = "door"
					break
					self.door(f'{num_}')
				elif current[y][x] == '≡':
					do = "glitch orb"
					break
					self.death('glitch orb')
				else:
					current[y][x] = self.player
			except: yeeted = True
			num = 0
			print(f'______)[Area {num_}](______')
			for i in current:
				if num != y:
					num2 = 0
					for z in i:
						if num2 != x:
							current[num][num2] = glitchMap[num][num2]
						num2 += 1
				for v in i:
					sys.stdout.write(v)
					sys.stdout.flush()
				print()
				num += 1
			move = get()
			first = False
			if move.lower() == "w":
				y -= 1
				try:
					if current[y][x] == '░':
						y += 1
				except: pass
			elif move.lower() == 's':
				y += 1
				try:
					if current[y][x] == '░':
						y -= 1
				except: pass
			elif move.lower() == 'a':
				x -= 1
				try:
					if current[y][x] == '░':
						x += 1
				except: pass
			elif move.lower() == 'd':
				x += 1
				try:
					if current[y][x] == '░':
						x -= 1
				except: pass
			clear()
		if do == 'door':
			self.door(num_)
		elif do == 'glitch orb':
			self.death('glitch orb')
	def death(self,why):
		clear()
		print(f'o noes!\nYou got killed by a {why}!')
		print(f'Score: {self.score}')
		audio.play_file('oof.mp3')
		input()
		sys.exit()
	def door(self,num):
		if num == '6':
			print('YOU WON!')
			print(f'score: {self.score}')
			print('Yay! You win eternal fame and glory!')
			sys.exit()
		clear()
		input('You entered door {}'.format(num))
		clear()
		print('Behind it is a chest. Do you open it?')
		option = choose(['yes','no'])
		if option == "yes":
			self.loot(f'{num}')
			input()
		elif option == 'no':
			pass
		clear()
		self.start_map1(str(int(num)+1))

	def loot(self,level):
		num = 10 - int(level)
		attack = random.randint(1,num)
		if attack == 1:
			print('O noes! A glitch caught you!')
			print('You lost 8 points!')
			self.score -= 8
		else:
			print('You found 10 points')
			self.score += 10

	def battle(self,enemy: dict):
		pass

def choose(what: list):
	num = 0
	for i in what:
		num += 1
		print(f'[{num}] {i}')
	while True:
		try:
			return what[int(input('-'))-1]
			break
		except: print('Invalid syntax')

Map = Map()

Map.start_map1('1')
